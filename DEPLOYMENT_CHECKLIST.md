# 部署检查清单 - 码农黄历

在部署应用到任何平台前，请完成以下检查清单。

## 📋 通用检查

### 代码质量

- [ ] 所有TypeScript错误已修复 (`pnpm check`)
- [ ] 代码风格检查通过 (`pnpm lint`)
- [ ] 所有单元测试通过 (`pnpm test`)
- [ ] 代码已格式化 (`pnpm format`)
- [ ] 没有console.log调试语句
- [ ] 没有TODO或FIXME注释
- [ ] 依赖已更新到最新版本

### 版本和文档

- [ ] 版本号已更新 (app.config.ts)
- [ ] CHANGELOG已更新
- [ ] README.md已更新
- [ ] API文档已更新
- [ ] 部署说明已准备

### 安全检查

- [ ] 没有硬编码的API密钥或凭证
- [ ] 所有敏感信息使用环境变量
- [ ] 依赖安全检查通过 (`npm audit`)
- [ ] 隐私政策已准备
- [ ] 用户协议已准备
- [ ] GDPR合规性已检查

### 性能检查

- [ ] 应用启动时间 < 3秒
- [ ] 列表滚动帧率 > 60fps
- [ ] 内存使用 < 100MB
- [ ] Bundle大小 < 50MB
- [ ] 图片已优化
- [ ] 字体已优化

### 功能检查

- [ ] 所有按钮都可点击
- [ ] 所有链接都有效
- [ ] 所有表单都可提交
- [ ] 所有API调用都成功
- [ ] 错误处理正确
- [ ] 加载状态显示正确
- [ ] 网络错误处理正确

## 🍎 iOS部署检查

### 配置检查

- [ ] Bundle ID已配置 (app.config.ts)
- [ ] App版本号已更新
- [ ] Build号已递增
- [ ] 应用图标已准备 (1024x1024px)
- [ ] 启动屏幕已准备 (1242x2688px)
- [ ] 应用名称不超过30字符

### 功能检查

- [ ] 在iOS 13+上测试通过
- [ ] 在iPhone和iPad上测试通过
- [ ] 深色模式支持正确
- [ ] 安全区域处理正确
- [ ] 键盘处理正确
- [ ] 后台任务处理正确

### App Store Connect检查

- [ ] 应用类别已选择
- [ ] 内容分级问卷已完成
- [ ] 隐私政策链接已添加
- [ ] 应用描述已准备（最多4000字符）
- [ ] 关键词已准备（最多100字符）
- [ ] 支持URL已添加
- [ ] 营销URL已添加（可选）
- [ ] 应用预览和截图已上传（最少2张，最多10张）
- [ ] 应用图标已上传 (1024x1024px)

### 证书和签名

- [ ] 开发证书已安装
- [ ] 发布证书已安装
- [ ] Provisioning Profile已配置
- [ ] 签名身份已验证

### 测试

- [ ] TestFlight内部测试通过
- [ ] TestFlight外部测试通过（可选）
- [ ] 在真实设备上测试通过
- [ ] 所有功能在iOS上正常工作

## 🤖 Android部署检查

### 配置检查

- [ ] 包名已配置 (app.config.ts)
- [ ] App版本号已更新
- [ ] Version Code已递增
- [ ] 应用图标已准备 (192x192px及以上)
- [ ] 启动屏幕已准备
- [ ] 应用名称不超过50字符

### 功能检查

- [ ] 在Android 6.0+上测试通过
- [ ] 在各种屏幕尺寸上测试通过
- [ ] 深色模式支持正确
- [ ] 权限请求处理正确
- [ ] 后退按钮处理正确
- [ ] 系统导航栏处理正确

### Google Play Console检查

- [ ] 应用类别已选择
- [ ] 内容分级问卷已完成
- [ ] 隐私政策链接已添加
- [ ] 应用描述已准备（最多4000字符）
- [ ] 简短描述已准备（最多80字符）
- [ ] 应用截图已上传（最少2张，最多8张）
- [ ] 特色图片已上传 (1024x500px)
- [ ] 应用图标已上传 (512x512px)

### 签名检查

- [ ] 签名密钥已生成
- [ ] 签名密钥已备份
- [ ] 签名密钥密码已保存
- [ ] AAB文件已正确签名

### 测试

- [ ] 在真实Android设备上测试通过
- [ ] 在Android模拟器上测试通过
- [ ] 所有功能在Android上正常工作
- [ ] 权限请求正确显示
- [ ] 性能在低端设备上可接受

## 🌐 Web部署检查

### 构建检查

- [ ] 构建成功完成 (`pnpm build`)
- [ ] 没有构建警告
- [ ] 没有构建错误
- [ ] dist目录已生成
- [ ] 所有资源文件已包含

### 配置检查

- [ ] 环境变量已配置
- [ ] API端点已正确设置
- [ ] 基础路径已正确设置
- [ ] 缓存策略已配置

### 功能检查

- [ ] 在Chrome上测试通过
- [ ] 在Firefox上测试通过
- [ ] 在Safari上测试通过
- [ ] 在Edge上测试通过
- [ ] 响应式设计在各种屏幕尺寸上正确
- [ ] 深色模式支持正确
- [ ] 所有功能在Web上正常工作

### SEO检查

- [ ] Meta标签已设置
- [ ] Open Graph标签已设置
- [ ] Twitter Card标签已设置
- [ ] Sitemap已生成
- [ ] robots.txt已配置

### 性能检查

- [ ] Lighthouse评分 > 80
- [ ] 首屏加载时间 < 3秒
- [ ] 核心网页生命周期指标达标
- [ ] 图片已优化
- [ ] 代码已分割

### 托管平台检查

- [ ] 域名已配置
- [ ] SSL证书已安装
- [ ] CDN已配置（如适用）
- [ ] 自动部署已配置
- [ ] 备份已配置

## 📱 跨平台检查

### 用户体验

- [ ] 应用启动流畅
- [ ] 导航直观
- [ ] 按钮反馈明显
- [ ] 加载状态清晰
- [ ] 错误提示有帮助
- [ ] 无死链接

### 数据和隐私

- [ ] 用户数据加密传输
- [ ] 本地数据加密存储
- [ ] 隐私政策清晰
- [ ] 用户同意机制完整
- [ ] 数据删除功能可用

### 可访问性

- [ ] 字体大小可调整
- [ ] 颜色对比度足够
- [ ] 屏幕阅读器支持
- [ ] 键盘导航支持
- [ ] 触摸目标大小 > 44x44px

### 本地化

- [ ] 所有文本已翻译
- [ ] 日期格式正确
- [ ] 货币格式正确
- [ ] 时区处理正确

## 🚀 发布前最后检查

### 24小时前

- [ ] 完成所有上述检查
- [ ] 进行最后的功能测试
- [ ] 检查所有外部链接
- [ ] 验证所有API端点
- [ ] 测试所有支付功能（如适用）

### 发布时

- [ ] 准备好快速回滚计划
- [ ] 监控系统已启动
- [ ] 支持团队已准备
- [ ] 社交媒体宣传已准备

### 发布后

- [ ] 监控应用崩溃率
- [ ] 监控用户反馈
- [ ] 监控性能指标
- [ ] 准备好快速修复

## 📊 检查清单使用说明

### 如何使用

1. 复制此文件到您的项目
2. 在部署前完成所有检查
3. 将完成的检查清单提交到Git
4. 只有所有检查都通过后才能部署

### 自动化检查

某些检查可以自动化：

```bash
# 运行所有自动检查
pnpm check && pnpm lint && pnpm test && npm audit

# 检查bundle大小
npm run build && du -sh dist/

# 检查性能
npm run build && npm install -g lighthouse
lighthouse https://your-app.com --view
```

### 记录检查结果

```bash
# 创建检查结果文件
cat > DEPLOYMENT_RESULT.md << EOF
# 部署结果 - $(date)

## 检查清单
- [x] 所有检查已完成
- [x] 所有测试已通过
- [x] 所有功能已验证

## 部署信息
- 版本：1.0.0
- 平台：iOS, Android, Web
- 部署时间：$(date)
- 部署人员：Your Name

## 备注
所有检查项目已完成，应用已准备就绪。
EOF

git add DEPLOYMENT_RESULT.md
git commit -m "docs: deployment checklist completed for v1.0.0"
```

---

**记住**：完整的检查清单是确保高质量发布的关键！✅

# å¿«é€Ÿå¼€å§‹æŒ‡å— - ç å†œé»„å†å¼€å‘

æœ¬æŒ‡å—ä¸ºå¼€å‘è€…æä¾›é¡¹ç›®çš„æŠ€æœ¯æ ˆã€æ¶æ„ã€å¼€å‘ç¯å¢ƒæ­å»ºå’Œå¼€å‘æµç¨‹è¯´æ˜ã€‚

## ğŸ“‹ ç›®å½•

1. [æŠ€æœ¯æ ˆæ¦‚è§ˆ](#æŠ€æœ¯æ ˆæ¦‚è§ˆ)
2. [é¡¹ç›®æ¶æ„](#é¡¹ç›®æ¶æ„)
3. [å¼€å‘ç¯å¢ƒæ­å»º](#å¼€å‘ç¯å¢ƒæ­å»º)
4. [å¯åŠ¨å¼€å‘](#å¯åŠ¨å¼€å‘)
5. [å¼€å‘å·¥ä½œæµ](#å¼€å‘å·¥ä½œæµ)
6. [å¸¸è§ä»»åŠ¡](#å¸¸è§ä»»åŠ¡)
7. [è°ƒè¯•æŠ€å·§](#è°ƒè¯•æŠ€å·§)
8. [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
9. [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

## ğŸ› ï¸ æŠ€æœ¯æ ˆæ¦‚è§ˆ

### æ ¸å¿ƒæ¡†æ¶

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | ä¸ºä»€ä¹ˆé€‰æ‹© |
|------|------|------|----------|
| **React Native** | 0.81 | è·¨å¹³å°ç§»åŠ¨å¼€å‘ | ä¸€å¥—ä»£ç è¿è¡Œåœ¨iOSã€Androidå’ŒWeb |
| **Expo** | 54 | å¼€å‘æ¡†æ¶ | ç®€åŒ–React Nativeå¼€å‘ï¼Œæä¾›ä¸°å¯Œçš„åŸç”ŸAPI |
| **Expo Router** | 6 | æ–‡ä»¶ç³»ç»Ÿè·¯ç”± | ç±»ä¼¼Next.jsçš„è·¯ç”±ä½“éªŒï¼Œè‡ªåŠ¨ç”Ÿæˆå¯¼èˆª |
| **TypeScript** | 5.9 | ç±»å‹ç³»ç»Ÿ | æé«˜ä»£ç è´¨é‡ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯ |
| **React 19** | æœ€æ–° | UIæ¡†æ¶ | æœ€æ–°ç‰¹æ€§ï¼Œæ›´å¥½çš„æ€§èƒ½ |

### æ ·å¼å’ŒUI

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | ä¸ºä»€ä¹ˆé€‰æ‹© |
|------|------|------|----------|
| **NativeWind** | 4 | React Nativeçš„Tailwind CSS | ç†Ÿæ‚‰çš„Tailwindè¯­æ³•ï¼Œåœ¨ç§»åŠ¨ç«¯ä¹Ÿèƒ½ç”¨ |
| **Tailwind CSS** | 3.4 | å·¥å…·ç±»CSSæ¡†æ¶ | å¿«é€Ÿå¼€å‘ï¼Œä¸€è‡´çš„è®¾è®¡ç³»ç»Ÿ |
| **Expo Symbols** | 1.0 | iOSåŸç”Ÿå›¾æ ‡ | åŸç”ŸSF Symbolsæ”¯æŒï¼Œä¿è¯iOSä½“éªŒ |

### çŠ¶æ€å’Œæ•°æ®

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | ä¸ºä»€ä¹ˆé€‰æ‹© |
|------|------|------|----------|
| **React Hooks** | å†…ç½® | çŠ¶æ€ç®¡ç† | è½»é‡çº§ï¼Œé€‚åˆä¸­å°å‹åº”ç”¨ |
| **AsyncStorage** | 2.2 | æœ¬åœ°å­˜å‚¨ | è·¨å¹³å°æŒä¹…åŒ–å­˜å‚¨ |
| **TanStack Query** | 5.90 | æœåŠ¡å™¨çŠ¶æ€ç®¡ç† | ç¼“å­˜ã€åŒæ­¥ã€åå°æ›´æ–° |

### æµ‹è¯•å’Œè´¨é‡

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | ä¸ºä»€ä¹ˆé€‰æ‹© |
|------|------|------|----------|
| **Vitest** | 2.1 | å•å…ƒæµ‹è¯• | å¿«é€Ÿã€å…¼å®¹Jestã€æ”¯æŒTypeScript |
| **ESLint** | 9.39 | ä»£ç æ£€æŸ¥ | ä¿è¯ä»£ç è´¨é‡å’Œä¸€è‡´æ€§ |
| **Prettier** | 3.7 | ä»£ç æ ¼å¼åŒ– | è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œå›¢é˜Ÿé£æ ¼ç»Ÿä¸€ |

### å¼€å‘å·¥å…·

| å·¥å…· | ç”¨é€” |
|------|------|
| **pnpm** | åŒ…ç®¡ç†å™¨ï¼ˆå¿«é€Ÿã€èŠ‚çœç©ºé—´ï¼‰ |
| **Metro** | React Nativeæ‰“åŒ…å™¨ |
| **Drizzle ORM** | æ•°æ®åº“ORMï¼ˆå¯é€‰ï¼‰ |
| **Express** | åç«¯æ¡†æ¶ï¼ˆå¯é€‰ï¼‰ |

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### åº”ç”¨ç»“æ„

```
åº”ç”¨å…¥å£ (app/_layout.tsx)
    â†“
ä¸»é¢˜æä¾›è€… (ThemeProvider)
    â†“
Tab Barå¯¼èˆª (app/(tabs)/_layout.tsx)
    â”œâ”€ ä»Šæ—¥è¿åŠ¿ (app/(tabs)/index.tsx)
    â”œâ”€ å†å²è®°å½• (app/(tabs)/history.tsx)
    â””â”€ è®¾ç½® (app/(tabs)/settings.tsx)
    â†“
è¯¦ç»†è¿åŠ¿é¡µé¢ (app/fortune-detail.tsx)
```

### æ•°æ®æµæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ç”¨æˆ·ç•Œé¢å±‚ (UI)                    â”‚
â”‚  - Reactç»„ä»¶                                    â”‚
â”‚  - NativeWindæ ·å¼                              â”‚
â”‚  - çŠ¶æ€ç®¡ç† (useState/useReducer)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ä¸šåŠ¡é€»è¾‘å±‚ (Logic)                   â”‚
â”‚  - çš‡å†æ•°æ®ç”Ÿæˆ (huangli-data.ts)              â”‚
â”‚  - å¤©æ°”APIè°ƒç”¨ (weather-api.ts)                â”‚
â”‚  - æœ¬åœ°å­˜å‚¨ (AsyncStorage)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            æ•°æ®æºå±‚ (Data Source)               â”‚
â”‚  - wttr.inå¤©æ°”API                              â”‚
â”‚  - æœ¬åœ°ç®—æ³•ç”Ÿæˆçš„è¿åŠ¿æ•°æ®                      â”‚
â”‚  - æœ¬åœ°å­˜å‚¨ (AsyncStorage)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ–‡ä»¶ç»„ç»‡

**æŒ‰åŠŸèƒ½åˆ†å±‚**ï¼š

```
lib/                    # ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ huangli-data.ts    # çš‡å†æ•°æ®ç”Ÿæˆ
â”œâ”€â”€ weather-api.ts     # å¤©æ°”API
â”œâ”€â”€ weather-data.ts    # å¤©æ°”æ¨¡æ‹Ÿæ•°æ®
â”œâ”€â”€ utils.ts           # å·¥å…·å‡½æ•°
â””â”€â”€ __tests__/         # æµ‹è¯•æ–‡ä»¶

components/            # UIç»„ä»¶
â”œâ”€â”€ screen-container.tsx
â”œâ”€â”€ themed-view.tsx
â””â”€â”€ ui/
    â””â”€â”€ icon-symbol.tsx

hooks/                 # è‡ªå®šä¹‰Hooks
â”œâ”€â”€ use-colors.ts
â”œâ”€â”€ use-color-scheme.ts
â””â”€â”€ use-auth.ts

app/                   # é¡µé¢å’Œè·¯ç”±
â”œâ”€â”€ _layout.tsx
â”œâ”€â”€ fortune-detail.tsx
â””â”€â”€ (tabs)/
    â”œâ”€â”€ index.tsx
    â”œâ”€â”€ history.tsx
    â””â”€â”€ settings.tsx
```

## ğŸ’» å¼€å‘ç¯å¢ƒæ­å»º

### å‰ç½®è¦æ±‚

```bash
# æ£€æŸ¥Node.jsç‰ˆæœ¬ï¼ˆéœ€è¦18.xæˆ–æ›´é«˜ï¼‰
node --version

# æ£€æŸ¥pnpmç‰ˆæœ¬ï¼ˆéœ€è¦9.12.0æˆ–æ›´é«˜ï¼‰
pnpm --version
```

### ç¬¬ä¸€æ¬¡è®¾ç½®

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone <repository-url>
   cd coder-huangli-app
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   pnpm install
   ```
   
   è¿™ä¼šå®‰è£…æ‰€æœ‰npmåŒ…ï¼ŒåŒ…æ‹¬ï¼š
   - React Nativeå’ŒExpo
   - å¼€å‘å·¥å…·å’Œæµ‹è¯•æ¡†æ¶
   - ç±»å‹å®šä¹‰

3. **éªŒè¯å®‰è£…**
   ```bash
   pnpm check
   ```
   
   è¿è¡ŒTypeScriptæ£€æŸ¥ç¡®ä¿æ²¡æœ‰ç±»å‹é”™è¯¯ã€‚

### IDEé…ç½®

**æ¨èä½¿ç”¨VS Code**

å®‰è£…æ‰©å±•ï¼š
- **ES7+ React/Redux/React-Native snippets** - ä»£ç ç‰‡æ®µ
- **Tailwind CSS IntelliSense** - Tailwindè‡ªåŠ¨å®Œæˆ
- **TypeScript Vue Plugin** - TypeScriptæ”¯æŒ
- **Prettier - Code formatter** - ä»£ç æ ¼å¼åŒ–
- **ESLint** - ä»£ç æ£€æŸ¥

**VS Codeè®¾ç½®** (`.vscode/settings.json`):
```json
{
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "[typescript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  }
}
```

## ğŸš€ å¯åŠ¨å¼€å‘

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒï¼ˆMetro + APIæœåŠ¡å™¨ï¼‰
pnpm dev
```

è¿™ä¼šï¼š
1. å¯åŠ¨Metroæ‰“åŒ…å™¨ï¼ˆç›‘å¬ä»£ç å˜åŒ–ï¼‰
2. å¯åŠ¨Express APIæœåŠ¡å™¨ï¼ˆç«¯å£3000ï¼‰
3. æ˜¾ç¤ºQRç ç”¨äºæ‰«æåœ¨Expo Goä¸­æ‰“å¼€

### åœ¨ä¸åŒå¹³å°ä¸Šå¼€å‘

**Webå¼€å‘**ï¼ˆæœ€å¿«çš„å¼€å‘ä½“éªŒï¼‰
```bash
pnpm dev
# æ‰“å¼€æµè§ˆå™¨è®¿é—®æ˜¾ç¤ºçš„URL
```

**iOSå¼€å‘**
```bash
pnpm ios
# åœ¨iOSæ¨¡æ‹Ÿå™¨ä¸­æ‰“å¼€åº”ç”¨
```

**Androidå¼€å‘**
```bash
pnpm android
# åœ¨Androidæ¨¡æ‹Ÿå™¨ä¸­æ‰“å¼€åº”ç”¨
```

**ç‰©ç†è®¾å¤‡**
```bash
# 1. åœ¨æ‰‹æœºä¸Šå®‰è£…Expo Goåº”ç”¨
# 2. è¿è¡Œpnpm dev
# 3. ä½¿ç”¨Expo Goæ‰«æç»ˆç«¯æ˜¾ç¤ºçš„QRç 
```

## ğŸ“ å¼€å‘å·¥ä½œæµ

### æ·»åŠ æ–°é¡µé¢

1. **åˆ›å»ºé¡µé¢æ–‡ä»¶**
   ```bash
   # åœ¨appç›®å½•ä¸‹åˆ›å»ºæ–°çš„.tsxæ–‡ä»¶
   touch app/new-page.tsx
   ```

2. **ä½¿ç”¨ScreenContaineråŒ…è£…**
   ```tsx
   import { ScreenContainer } from "@/components/screen-container";
   
   export default function NewPage() {
     return (
       <ScreenContainer className="p-4">
         {/* é¡µé¢å†…å®¹ */}
       </ScreenContainer>
     );
   }
   ```

3. **åœ¨è·¯ç”±ä¸­æ³¨å†Œ**
   - å¦‚æœæ˜¯Tabé¡µé¢ï¼Œåœ¨ `app/(tabs)/_layout.tsx` ä¸­æ·»åŠ  `<Tabs.Screen>`
   - å¦‚æœæ˜¯æ™®é€šé¡µé¢ï¼ŒExpo Routerä¼šè‡ªåŠ¨è¯†åˆ«

### ä¿®æ”¹æ ·å¼

åº”ç”¨ä½¿ç”¨NativeWindï¼ˆTailwind CSS for React Nativeï¼‰ï¼š

```tsx
// âœ… æ­£ç¡®çš„æ ·å¼æ–¹å¼
<View className="flex-1 items-center justify-center bg-primary p-4">
  <Text className="text-2xl font-bold text-white">Hello</Text>
</View>

// âŒ é¿å…ä½¿ç”¨style prop
// <View style={{ flex: 1, ... }}>
```

### æ·»åŠ æ–°åŠŸèƒ½

1. **åˆ›å»ºä¸šåŠ¡é€»è¾‘æ–‡ä»¶** (`lib/new-feature.ts`)
   ```typescript
   export function generateData() {
     // ä¸šåŠ¡é€»è¾‘
   }
   ```

2. **ç¼–å†™æµ‹è¯•** (`lib/__tests__/new-feature.test.ts`)
   ```typescript
   import { describe, it, expect } from 'vitest';
   import { generateData } from '../new-feature';
   
   describe('æ–°åŠŸèƒ½', () => {
     it('åº”è¯¥å·¥ä½œ', () => {
       expect(generateData()).toBeDefined();
     });
   });
   ```

3. **åœ¨ç»„ä»¶ä¸­ä½¿ç”¨**
   ```tsx
   import { generateData } from '@/lib/new-feature';
   
   export default function MyComponent() {
     const data = generateData();
     return <Text>{data}</Text>;
   }
   ```

4. **è¿è¡Œæµ‹è¯•éªŒè¯**
   ```bash
   pnpm test
   ```

### è°ƒæ•´ä¸»é¢˜

**ä¿®æ”¹é¢œè‰²** (`theme.config.js`):
```javascript
const themeColors = {
  primary: { light: '#7C3AED', dark: '#8B5CF6' },
  // ä¿®æ”¹å…¶ä»–é¢œè‰²...
};
```

**ä¿®æ”¹å­—ä½“å¤§å°** (`tailwind.config.js`):
```javascript
theme: {
  extend: {
    fontSize: {
      'xs': '12px',
      'sm': '14px',
      // ...
    }
  }
}
```

## ğŸ”§ å¸¸è§ä»»åŠ¡

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# ç›‘å¬æ¨¡å¼ï¼ˆä»£ç å˜åŒ–æ—¶è‡ªåŠ¨é‡æ–°è¿è¡Œï¼‰
pnpm test --watch

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
pnpm test huangli-data

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pnpm test --coverage
```

### ä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–

```bash
# æ£€æŸ¥ä»£ç è´¨é‡
pnpm lint

# è‡ªåŠ¨ä¿®å¤å¯ä¿®å¤çš„é—®é¢˜
pnpm lint --fix

# æ ¼å¼åŒ–ä»£ç 
pnpm format

# TypeScriptç±»å‹æ£€æŸ¥
pnpm check
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºåç«¯æœåŠ¡å™¨
pnpm build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
pnpm start
```

### æ¸…ç†ç¼“å­˜

```bash
# æ¸…ç†Metroç¼“å­˜
pnpm dev --reset-cache

# æ¸…ç†node_moduleså’Œé‡æ–°å®‰è£…
rm -rf node_modules
pnpm install
```

## ğŸ› è°ƒè¯•æŠ€å·§

### æµè§ˆå™¨å¼€å‘è€…å·¥å…·

åœ¨Webç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥ä½¿ç”¨æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ï¼š

1. æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
2. åœ¨Consoleæ ‡ç­¾ä¸­æŸ¥çœ‹æ—¥å¿—
3. åœ¨Networkæ ‡ç­¾ä¸­æŸ¥çœ‹APIè¯·æ±‚
4. ä½¿ç”¨React DevToolsæ£€æŸ¥ç»„ä»¶æ ‘

### æ—¥å¿—è¾“å‡º

```typescript
// åŸºæœ¬æ—¥å¿—
console.log('ä¿¡æ¯:', data);
console.warn('è­¦å‘Š:', error);
console.error('é”™è¯¯:', error);

// ç»“æ„åŒ–æ—¥å¿—
console.table(data);

// åˆ†ç»„æ—¥å¿—
console.group('åŠŸèƒ½åç§°');
console.log('è¯¦æƒ…1');
console.log('è¯¦æƒ…2');
console.groupEnd();
```

### è°ƒè¯•APIè¯·æ±‚

```typescript
// åœ¨weather-api.tsä¸­æ·»åŠ æ—¥å¿—
console.log('è¯·æ±‚URL:', url);
console.log('å“åº”æ•°æ®:', data);

// ä½¿ç”¨Networkæ ‡ç­¾æŸ¥çœ‹è¯·æ±‚
// åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­æŸ¥çœ‹æ‰€æœ‰APIè¯·æ±‚
```

### æ€§èƒ½ç›‘æµ‹

```typescript
// æµ‹é‡å‡½æ•°æ‰§è¡Œæ—¶é—´
console.time('æ“ä½œåç§°');
// ... æ‰§è¡Œæ“ä½œ
console.timeEnd('æ“ä½œåç§°');

// è¾“å‡ºç¤ºä¾‹: æ“ä½œåç§°: 123.45ms
```

## âš¡ æ€§èƒ½ä¼˜åŒ–

### ç»„ä»¶ä¼˜åŒ–

```typescript
// ä½¿ç”¨React.memoé˜²æ­¢ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“
const MemoizedCard = React.memo(({ data }) => {
  return <View>{/* å¡ç‰‡å†…å®¹ */}</View>;
});

// ä½¿ç”¨useMemoç¼“å­˜è®¡ç®—ç»“æœ
const memoizedValue = useMemo(() => {
  return expensiveCalculation(data);
}, [data]);

// ä½¿ç”¨useCallbackç¼“å­˜å‡½æ•°
const memoizedCallback = useCallback(() => {
  handleClick();
}, []);
```

### åˆ—è¡¨ä¼˜åŒ–

```typescript
// âœ… ä½¿ç”¨FlatListï¼ˆé«˜æ•ˆï¼‰
<FlatList
  data={items}
  renderItem={({ item }) => <Item item={item} />}
  keyExtractor={(item) => item.id}
/>

// âŒ é¿å…ä½¿ç”¨ScrollView + mapï¼ˆä½æ•ˆï¼‰
// <ScrollView>
//   {items.map(item => <Item key={item.id} item={item} />)}
// </ScrollView>
```

### å›¾ç‰‡ä¼˜åŒ–

```typescript
// ä½¿ç”¨Imageç»„ä»¶çš„width/heightå±æ€§
<Image
  source={{ uri: 'https://...' }}
  style={{ width: 200, height: 200 }}
/>

// é¢„åŠ è½½å›¾ç‰‡
Image.prefetch('https://...');
```

### ç½‘ç»œè¯·æ±‚ä¼˜åŒ–

```typescript
// ä½¿ç”¨ç¼“å­˜é¿å…é‡å¤è¯·æ±‚
const [weatherData, setWeatherData] = useState(null);
const [lastFetchTime, setLastFetchTime] = useState(0);

const fetchWeather = async () => {
  const now = Date.now();
  // 5åˆ†é’Ÿå†…ä¸é‡æ–°è¯·æ±‚
  if (now - lastFetchTime < 5 * 60 * 1000) {
    return weatherData;
  }
  
  const data = await fetchWeatherData();
  setWeatherData(data);
  setLastFetchTime(now);
  return data;
};
```

## ğŸ†˜ æ•…éšœæ’é™¤

### é—®é¢˜ï¼šMetroæ‰“åŒ…å™¨å´©æºƒ

**ç—‡çŠ¶**ï¼šå¼€å‘æœåŠ¡å™¨åœæ­¢å“åº”

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ¸…é™¤ç¼“å­˜å¹¶é‡å¯
pnpm dev --reset-cache

# æˆ–è€…æ‰‹åŠ¨æ¸…é™¤
rm -rf node_modules/.cache
pnpm dev
```

### é—®é¢˜ï¼šæ ·å¼ä¸ç”Ÿæ•ˆ

**ç—‡çŠ¶**ï¼šTailwindç±»åæ²¡æœ‰åº”ç”¨æ ·å¼

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# 1. æ£€æŸ¥ç±»åæ˜¯å¦æ­£ç¡®
# 2. ç¡®ä¿æ–‡ä»¶åœ¨tailwind.config.jsçš„contentä¸­
# 3. é‡å¯å¼€å‘æœåŠ¡å™¨
pnpm dev --reset-cache
```

### é—®é¢˜ï¼šç±»å‹é”™è¯¯

**ç—‡çŠ¶**ï¼šTypeScriptæŠ¥é”™

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# è¿è¡Œç±»å‹æ£€æŸ¥
pnpm check

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
pnpm check --listFiles
```

### é—®é¢˜ï¼šå¤©æ°”APIè¯·æ±‚å¤±è´¥

**ç—‡çŠ¶**ï¼šå¤©æ°”ä¿¡æ¯æ˜¾ç¤ºé»˜è®¤å€¼

**è§£å†³æ–¹æ¡ˆ**ï¼š
```typescript
// æ£€æŸ¥ç½‘ç»œè¿æ¥
// æ£€æŸ¥APIæ˜¯å¦å¯ç”¨ï¼šhttps://wttr.in/Beijing?format=j1
// æŸ¥çœ‹æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„Networkæ ‡ç­¾

// ä¸´æ—¶ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®è¿›è¡Œå¼€å‘
import { generateWeatherData } from '@/lib/weather-data';
const weatherData = generateWeatherData();
```

### é—®é¢˜ï¼šå†…å­˜æ³„æ¼

**ç—‡çŠ¶**ï¼šåº”ç”¨è¿è¡Œå˜æ…¢

**è§£å†³æ–¹æ¡ˆ**ï¼š
```typescript
// ç¡®ä¿æ¸…ç†äº‹ä»¶ç›‘å¬å™¨
useEffect(() => {
  const subscription = eventEmitter.subscribe(handleEvent);
  
  return () => {
    subscription.unsubscribe(); // æ¸…ç†
  };
}, []);

// ç¡®ä¿æ¸…ç†å®šæ—¶å™¨
useEffect(() => {
  const timer = setTimeout(() => {
    // ...
  }, 1000);
  
  return () => clearTimeout(timer); // æ¸…ç†
}, []);
```

## ğŸ“š å­¦ä¹ èµ„æº

- [React Nativeå®˜æ–¹æ–‡æ¡£](https://reactnative.dev/)
- [Expoå®˜æ–¹æ–‡æ¡£](https://docs.expo.dev/)
- [Expo Routeræ–‡æ¡£](https://docs.expo.dev/routing/introduction/)
- [NativeWindæ–‡æ¡£](https://www.nativewind.dev/)
- [Tailwind CSSæ–‡æ¡£](https://tailwindcss.com/)
- [TypeScriptå®˜æ–¹æ–‡æ¡£](https://www.typescriptlang.org/)

## ğŸ¯ å¼€å‘æœ€ä½³å®è·µ

1. **å§‹ç»ˆç¼–å†™æµ‹è¯•**ï¼šåœ¨æ·»åŠ åŠŸèƒ½å‰ç¼–å†™æµ‹è¯•
2. **ä¿æŒç»„ä»¶å°å·§**ï¼šå•ä¸€èŒè´£åŸåˆ™
3. **ä½¿ç”¨TypeScript**ï¼šå……åˆ†åˆ©ç”¨ç±»å‹ç³»ç»Ÿ
4. **é¿å…æ·±å±‚åµŒå¥—**ï¼šä¿æŒç»„ä»¶æ ‘æ‰å¹³
5. **ä½¿ç”¨å¸¸é‡**ï¼šé¿å…é­”æ³•æ•°å­—
6. **æ·»åŠ æ³¨é‡Š**ï¼šè§£é‡Šå¤æ‚é€»è¾‘
7. **å®šæœŸé‡æ„**ï¼šä¿æŒä»£ç æ•´æ´
8. **æ€§èƒ½ä¼˜å…ˆ**ï¼šç›‘æµ‹å’Œä¼˜åŒ–å…³é”®è·¯å¾„

## ğŸ“ è·å–å¸®åŠ©

- æŸ¥çœ‹é¡¹ç›®ä¸­çš„ `design.md` äº†è§£è®¾è®¡å†³ç­–
- æŸ¥çœ‹ `README.md` äº†è§£åŠŸèƒ½æ¦‚è§ˆ
- æŸ¥çœ‹ä»£ç ä¸­çš„æ³¨é‡Šå’ŒJSDocæ–‡æ¡£
- è¿è¡Œ `pnpm test` æŸ¥çœ‹æµ‹è¯•ç”¨ä¾‹

---

**ç¥æ‚¨å¼€å‘æ„‰å¿«ï¼** ğŸš€

å¦‚æœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒæ•…éšœæ’é™¤éƒ¨åˆ†æˆ–æäº¤Issueã€‚
